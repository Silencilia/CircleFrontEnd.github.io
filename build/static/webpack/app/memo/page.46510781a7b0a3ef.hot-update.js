"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/memo/page",{

/***/ "(app-pages-browser)/./data/dataService.ts":
/*!*****************************!*\
  !*** ./data/dataService.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MockDataService: function() { return /* binding */ MockDataService; },\n/* harmony export */   dataService: function() { return /* binding */ dataService; }\n/* harmony export */ });\n/* harmony import */ var _sampleData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sampleData */ \"(app-pages-browser)/./data/sampleData.ts\");\n\n// Helper function to safely access localStorage\nconst getLocalStorage = (key)=>{\n    if ( true && window.localStorage) {\n        return window.localStorage.getItem(key);\n    }\n    return null;\n};\nconst setLocalStorage = (key, value)=>{\n    if ( true && window.localStorage) {\n        window.localStorage.setItem(key, value);\n    }\n};\nconst removeLocalStorage = (key)=>{\n    if ( true && window.localStorage) {\n        window.localStorage.removeItem(key);\n    }\n};\n// Mock implementation that simulates database operations\nclass MockDataService {\n    loadData() {\n        const savedData = getLocalStorage(\"circle-data\");\n        if (savedData) {\n            try {\n                const parsed = JSON.parse(savedData);\n                // Validate data structure\n                if (this.isValidData(parsed)) {\n                    this.data = parsed;\n                } else {\n                    console.warn(\"MockDataService: Invalid data format, using sample data\");\n                    removeLocalStorage(\"circle-data\");\n                }\n            } catch (error) {\n                console.error(\"MockDataService: Failed to parse saved data, using sample data\");\n                removeLocalStorage(\"circle-data\");\n            }\n        }\n    }\n    isValidData(data) {\n        return data.subjects && Array.isArray(data.subjects) && data.relationships && Array.isArray(data.relationships) && data.contacts && Array.isArray(data.contacts) && data.organizations && Array.isArray(data.organizations) && data.occupations && Array.isArray(data.occupations) && data.sentiments && Array.isArray(data.sentiments) && data.notes && Array.isArray(data.notes);\n    }\n    saveData() {\n        setLocalStorage(\"circle-data\", JSON.stringify(this.data));\n    }\n    simulateDelay() {\n        // Simulate network delay (50-200ms)\n        const delay = Math.random() * 150 + 50;\n        return new Promise((resolve)=>setTimeout(resolve, delay));\n    }\n    async updateContact(id, updates) {\n        await this.simulateDelay();\n        const contactIndex = this.data.contacts.findIndex((c)=>c.id === id);\n        if (contactIndex === -1) {\n            throw new Error(\"Contact with id \".concat(id, \" not found\"));\n        }\n        // Update the contact\n        this.data.contacts[contactIndex] = {\n            ...this.data.contacts[contactIndex],\n            ...updates\n        };\n        this.saveData();\n        return this.data.contacts[contactIndex];\n    }\n    async addContact(contact) {\n        await this.simulateDelay();\n        const newContact = {\n            ...contact,\n            id: Date.now(),\n            isTrashed: false\n        };\n        this.data.contacts.push(newContact);\n        this.saveData();\n        return newContact;\n    }\n    async deleteContact(id) {\n        await this.simulateDelay();\n        this.loadData(); // Ensure data is loaded\n        const initialLength = this.data.contacts.length;\n        this.data.contacts = this.data.contacts.filter((c)=>c.id !== id);\n        if (this.data.contacts.length === initialLength) {\n            throw new Error(\"Contact with id \".concat(id, \" not found\"));\n        }\n        this.saveData();\n    }\n    async addSubject(subject) {\n        await this.simulateDelay();\n        const newSubject = {\n            ...subject,\n            id: Date.now()\n        };\n        this.data.subjects.push(newSubject);\n        this.saveData();\n        return newSubject;\n    }\n    async addOrganization(organization) {\n        await this.simulateDelay();\n        const newOrganization = {\n            ...organization,\n            id: Date.now()\n        };\n        this.data.organizations.push(newOrganization);\n        this.saveData();\n        return newOrganization;\n    }\n    async addOccupation(occupation) {\n        await this.simulateDelay();\n        const newOccupation = {\n            ...occupation,\n            id: Date.now()\n        };\n        this.data.occupations.push(newOccupation);\n        this.saveData();\n        return newOccupation;\n    }\n    async addRelationship(relationship) {\n        await this.simulateDelay();\n        const newRelationship = {\n            ...relationship,\n            id: Date.now()\n        };\n        this.data.relationships.push(newRelationship);\n        this.saveData();\n        return newRelationship;\n    }\n    async addSentiment(sentiment) {\n        await this.simulateDelay();\n        const newSentiment = {\n            ...sentiment,\n            id: Date.now()\n        };\n        this.data.sentiments.push(newSentiment);\n        this.saveData();\n        return newSentiment;\n    }\n    async addNote(note) {\n        await this.simulateDelay();\n        const newNote = {\n            ...note,\n            id: Date.now(),\n            createdAt: new Date().toISOString(),\n            isTrashed: false\n        };\n        this.data.notes.push(newNote);\n        this.saveData();\n        return newNote;\n    }\n    async updateNote(id, updates) {\n        await this.simulateDelay();\n        const noteIndex = this.data.notes.findIndex((n)=>n.id === id);\n        if (noteIndex === -1) {\n            throw new Error(\"Note with id \".concat(id, \" not found\"));\n        }\n        // Update the note\n        this.data.notes[noteIndex] = {\n            ...this.data.notes[noteIndex],\n            ...updates\n        };\n        this.saveData();\n        return this.data.notes[noteIndex];\n    }\n    async addCommitment(commitment) {\n        await this.simulateDelay();\n        const newCommitment = {\n            ...commitment,\n            id: Date.now()\n        };\n        this.data.commitments.push(newCommitment);\n        this.saveData();\n        return newCommitment;\n    }\n    async updateCommitment(id, updates) {\n        await this.simulateDelay();\n        const idx = this.data.commitments.findIndex((c)=>c.id === id);\n        if (idx === -1) throw new Error(\"Commitment with id \".concat(id, \" not found\"));\n        this.data.commitments[idx] = {\n            ...this.data.commitments[idx],\n            ...updates\n        };\n        this.saveData();\n        return this.data.commitments[idx];\n    }\n    async getAllData() {\n        var _this_data_contacts_, _this_data_contacts_1;\n        console.log(\"\\uD83D\\uDCE1 MockDataService: getAllData called\");\n        console.log(\"\\uD83D\\uDD0D MockDataService: Current internal data source:\", {\n            isFromLocalStorage: this.data !== (0,_sampleData__WEBPACK_IMPORTED_MODULE_0__.getSampleData)(),\n            contactsCount: this.data.contacts.length,\n            sampleContactName: ((_this_data_contacts_ = this.data.contacts[0]) === null || _this_data_contacts_ === void 0 ? void 0 : _this_data_contacts_.name) || \"none\"\n        });\n        await this.simulateDelay();\n        // Reload from localStorage to get latest data\n        console.log(\"\\uD83D\\uDD04 MockDataService: Reloading from localStorage before returning data\");\n        this.loadData();\n        console.log(\"\\uD83D\\uDCE4 MockDataService: Returning data to caller:\", {\n            contactsCount: this.data.contacts.length,\n            notesCount: this.data.notes.length,\n            sampleContactName: ((_this_data_contacts_1 = this.data.contacts[0]) === null || _this_data_contacts_1 === void 0 ? void 0 : _this_data_contacts_1.name) || \"none\",\n            dataSource: this.data !== (0,_sampleData__WEBPACK_IMPORTED_MODULE_0__.getSampleData)() ? \"localStorage\" : \"sampleData\"\n        });\n        // Return a copy to prevent direct mutations\n        return {\n            contacts: [\n                ...this.data.contacts\n            ],\n            subjects: [\n                ...this.data.subjects\n            ],\n            organizations: [\n                ...this.data.organizations\n            ],\n            occupations: [\n                ...this.data.occupations\n            ],\n            relationships: [\n                ...this.data.relationships\n            ],\n            sentiments: [\n                ...this.data.sentiments\n            ],\n            notes: [\n                ...this.data.notes\n            ],\n            commitments: [\n                ...this.data.commitments\n            ]\n        };\n    }\n    constructor(){\n        // Initialize with sample data first, then try to load from localStorage\n        this.data = (0,_sampleData__WEBPACK_IMPORTED_MODULE_0__.getSampleData)();\n        // Load from localStorage only on the client side\n        if (true) {\n            this.loadData();\n        }\n    }\n}\n// Export singleton instance\nconst dataService = new MockDataService();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUUsY0FBckIsa0VBQXVCa0UsSUFBSSxLQUFJO1lBQ2xERSxZQUFZLElBQUksQ0FBQzVFLElBQUksS0FBS2xCLDBEQUFhQSxLQUFLLGlCQUFpQjtRQUMvRDtRQUVBLDRDQUE0QztRQUM1QyxPQUFPO1lBQ0wwQixVQUFVO21CQUFJLElBQUksQ0FBQ1IsSUFBSSxDQUFDUSxRQUFRO2FBQUM7WUFDakNKLFVBQVU7bUJBQUksSUFBSSxDQUFDSixJQUFJLENBQUNJLFFBQVE7YUFBQztZQUNqQ0ssZUFBZTttQkFBSSxJQUFJLENBQUNULElBQUksQ0FBQ1MsYUFBYTthQUFDO1lBQzNDQyxhQUFhO21CQUFJLElBQUksQ0FBQ1YsSUFBSSxDQUFDVSxXQUFXO2FBQUM7WUFDdkNILGVBQWU7bUJBQUksSUFBSSxDQUFDUCxJQUFJLENBQUNPLGFBQWE7YUFBQztZQUMzQ0ksWUFBWTttQkFBSSxJQUFJLENBQUNYLElBQUksQ0FBQ1csVUFBVTthQUFDO1lBQ3JDQyxPQUFPO21CQUFJLElBQUksQ0FBQ1osSUFBSSxDQUFDWSxLQUFLO2FBQUM7WUFDM0JzRCxhQUFhO21CQUFJLElBQUksQ0FBQ2xFLElBQUksQ0FBQ2tFLFdBQVc7YUFBQztRQUN6QztJQUNGO0lBelBBVyxhQUFjO1FBQ1osd0VBQXdFO1FBQ3hFLElBQUksQ0FBQzdFLElBQUksR0FBR2xCLDBEQUFhQTtRQUN6QixpREFBaUQ7UUFDakQsSUFBSSxJQUFrQixFQUFhO1lBQ2pDLElBQUksQ0FBQ1ksUUFBUTtRQUNmO0lBQ0Y7QUFtUEY7QUFFQSw0QkFBNEI7QUFDckIsTUFBTW9GLGNBQWMsSUFBSXJGLGtCQUFrQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9kYXRhL2RhdGFTZXJ2aWNlLnRzP2Y4ZmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29udGFjdCwgU3ViamVjdCwgT3JnYW5pemF0aW9uLCBPY2N1cGF0aW9uLCBSZWxhdGlvbnNoaXAsIFNlbnRpbWVudCwgTm90ZSwgQ29tbWl0bWVudCB9IGZyb20gJy4uL2NvbnRleHRzL0NvbnRhY3RDb250ZXh0JztcbmltcG9ydCB7IGdldFNhbXBsZURhdGEgfSBmcm9tICcuL3NhbXBsZURhdGEnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFTZXJ2aWNlIHtcbiAgdXBkYXRlQ29udGFjdChpZDogbnVtYmVyLCB1cGRhdGVzOiBQYXJ0aWFsPENvbnRhY3Q+KTogUHJvbWlzZTxDb250YWN0PjtcbiAgYWRkQ29udGFjdChjb250YWN0OiBPbWl0PENvbnRhY3QsICdpZCc+KTogUHJvbWlzZTxDb250YWN0PjtcbiAgZGVsZXRlQ29udGFjdChpZDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPjtcbiAgYWRkU3ViamVjdChzdWJqZWN0OiBPbWl0PFN1YmplY3QsICdpZCc+KTogUHJvbWlzZTxTdWJqZWN0PjtcbiAgYWRkT3JnYW5pemF0aW9uKG9yZ2FuaXphdGlvbjogT21pdDxPcmdhbml6YXRpb24sICdpZCc+KTogUHJvbWlzZTxPcmdhbml6YXRpb24+O1xuICBhZGRPY2N1cGF0aW9uKG9jY3VwYXRpb246IE9taXQ8T2NjdXBhdGlvbiwgJ2lkJz4pOiBQcm9taXNlPE9jY3VwYXRpb24+O1xuICBhZGRSZWxhdGlvbnNoaXAocmVsYXRpb25zaGlwOiBPbWl0PFJlbGF0aW9uc2hpcCwgJ2lkJz4pOiBQcm9taXNlPFJlbGF0aW9uc2hpcD47XG4gIGFkZFNlbnRpbWVudChzZW50aW1lbnQ6IE9taXQ8U2VudGltZW50LCAnaWQnPik6IFByb21pc2U8U2VudGltZW50PjtcbiAgYWRkTm90ZShub3RlOiBPbWl0PE5vdGUsICdpZCcgfCAnY3JlYXRlZEF0Jz4pOiBQcm9taXNlPE5vdGU+O1xuICB1cGRhdGVOb3RlKGlkOiBudW1iZXIsIHVwZGF0ZXM6IFBhcnRpYWw8Tm90ZT4pOiBQcm9taXNlPE5vdGU+O1xuICAvLyBDb21taXRtZW50c1xuICBhZGRDb21taXRtZW50KGNvbW1pdG1lbnQ6IE9taXQ8Q29tbWl0bWVudCwgJ2lkJz4pOiBQcm9taXNlPENvbW1pdG1lbnQ+O1xuICB1cGRhdGVDb21taXRtZW50KGlkOiBudW1iZXIsIHVwZGF0ZXM6IFBhcnRpYWw8Q29tbWl0bWVudD4pOiBQcm9taXNlPENvbW1pdG1lbnQ+O1xuICBnZXRBbGxEYXRhKCk6IFByb21pc2U8e1xuICAgIGNvbnRhY3RzOiBDb250YWN0W107XG4gICAgc3ViamVjdHM6IFN1YmplY3RbXTtcbiAgICBvcmdhbml6YXRpb25zOiBPcmdhbml6YXRpb25bXTtcbiAgICBvY2N1cGF0aW9uczogT2NjdXBhdGlvbltdO1xuICAgIHJlbGF0aW9uc2hpcHM6IFJlbGF0aW9uc2hpcFtdO1xuICAgIHNlbnRpbWVudHM6IFNlbnRpbWVudFtdO1xuICAgIG5vdGVzOiBOb3RlW107XG4gICAgY29tbWl0bWVudHM6IENvbW1pdG1lbnRbXTtcbiAgfT47XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBzYWZlbHkgYWNjZXNzIGxvY2FsU3RvcmFnZVxuY29uc3QgZ2V0TG9jYWxTdG9yYWdlID0gKGtleTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubG9jYWxTdG9yYWdlKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuY29uc3Qgc2V0TG9jYWxTdG9yYWdlID0gKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogdm9pZCA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubG9jYWxTdG9yYWdlKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICB9XG59O1xuXG5jb25zdCByZW1vdmVMb2NhbFN0b3JhZ2UgPSAoa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgfVxufTtcblxuLy8gTW9jayBpbXBsZW1lbnRhdGlvbiB0aGF0IHNpbXVsYXRlcyBkYXRhYmFzZSBvcGVyYXRpb25zXG5leHBvcnQgY2xhc3MgTW9ja0RhdGFTZXJ2aWNlIGltcGxlbWVudHMgRGF0YVNlcnZpY2Uge1xuICBwcml2YXRlIGRhdGE6IHtcbiAgICBjb250YWN0czogQ29udGFjdFtdO1xuICAgIHN1YmplY3RzOiBTdWJqZWN0W107XG4gICAgb3JnYW5pemF0aW9uczogT3JnYW5pemF0aW9uW107XG4gICAgb2NjdXBhdGlvbnM6IE9jY3VwYXRpb25bXTtcbiAgICByZWxhdGlvbnNoaXBzOiBSZWxhdGlvbnNoaXBbXTtcbiAgICBzZW50aW1lbnRzOiBTZW50aW1lbnRbXTtcbiAgICBub3RlczogTm90ZVtdO1xuICAgIGNvbW1pdG1lbnRzOiBDb21taXRtZW50W107XG4gIH07XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gSW5pdGlhbGl6ZSB3aXRoIHNhbXBsZSBkYXRhIGZpcnN0LCB0aGVuIHRyeSB0byBsb2FkIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgdGhpcy5kYXRhID0gZ2V0U2FtcGxlRGF0YSgpO1xuICAgIC8vIExvYWQgZnJvbSBsb2NhbFN0b3JhZ2Ugb25seSBvbiB0aGUgY2xpZW50IHNpZGVcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMubG9hZERhdGEoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGxvYWREYXRhKCkge1xuICAgIGNvbnN0IHNhdmVkRGF0YSA9IGdldExvY2FsU3RvcmFnZSgnY2lyY2xlLWRhdGEnKTtcbiAgICBpZiAoc2F2ZWREYXRhKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHNhdmVkRGF0YSk7XG4gICAgICAgIC8vIFZhbGlkYXRlIGRhdGEgc3RydWN0dXJlXG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWREYXRhKHBhcnNlZCkpIHtcbiAgICAgICAgICB0aGlzLmRhdGEgPSBwYXJzZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdNb2NrRGF0YVNlcnZpY2U6IEludmFsaWQgZGF0YSBmb3JtYXQsIHVzaW5nIHNhbXBsZSBkYXRhJyk7XG4gICAgICAgICAgcmVtb3ZlTG9jYWxTdG9yYWdlKCdjaXJjbGUtZGF0YScpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdNb2NrRGF0YVNlcnZpY2U6IEZhaWxlZCB0byBwYXJzZSBzYXZlZCBkYXRhLCB1c2luZyBzYW1wbGUgZGF0YScpO1xuICAgICAgICByZW1vdmVMb2NhbFN0b3JhZ2UoJ2NpcmNsZS1kYXRhJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpc1ZhbGlkRGF0YShkYXRhOiBhbnkpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZGF0YS5zdWJqZWN0cyAmJiBBcnJheS5pc0FycmF5KGRhdGEuc3ViamVjdHMpICYmIFxuICAgICAgICAgICBkYXRhLnJlbGF0aW9uc2hpcHMgJiYgQXJyYXkuaXNBcnJheShkYXRhLnJlbGF0aW9uc2hpcHMpICYmXG4gICAgICAgICAgIGRhdGEuY29udGFjdHMgJiYgQXJyYXkuaXNBcnJheShkYXRhLmNvbnRhY3RzKSAmJlxuICAgICAgICAgICBkYXRhLm9yZ2FuaXphdGlvbnMgJiYgQXJyYXkuaXNBcnJheShkYXRhLm9yZ2FuaXphdGlvbnMpICYmXG4gICAgICAgICAgIGRhdGEub2NjdXBhdGlvbnMgJiYgQXJyYXkuaXNBcnJheShkYXRhLm9jY3VwYXRpb25zKSAmJlxuICAgICAgICAgICBkYXRhLnNlbnRpbWVudHMgJiYgQXJyYXkuaXNBcnJheShkYXRhLnNlbnRpbWVudHMpICYmXG4gICAgICAgICAgIGRhdGEubm90ZXMgJiYgQXJyYXkuaXNBcnJheShkYXRhLm5vdGVzKTtcbiAgfVxuXG4gIHByaXZhdGUgc2F2ZURhdGEoKTogdm9pZCB7XG4gICAgc2V0TG9jYWxTdG9yYWdlKCdjaXJjbGUtZGF0YScsIEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBzaW11bGF0ZURlbGF5KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIFNpbXVsYXRlIG5ldHdvcmsgZGVsYXkgKDUwLTIwMG1zKVxuICAgIGNvbnN0IGRlbGF5ID0gTWF0aC5yYW5kb20oKSAqIDE1MCArIDUwO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUNvbnRhY3QoaWQ6IG51bWJlciwgdXBkYXRlczogUGFydGlhbDxDb250YWN0Pik6IFByb21pc2U8Q29udGFjdD4ge1xuICAgIGF3YWl0IHRoaXMuc2ltdWxhdGVEZWxheSgpO1xuICAgIFxuICAgIGNvbnN0IGNvbnRhY3RJbmRleCA9IHRoaXMuZGF0YS5jb250YWN0cy5maW5kSW5kZXgoYyA9PiBjLmlkID09PSBpZCk7XG4gICAgaWYgKGNvbnRhY3RJbmRleCA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ29udGFjdCB3aXRoIGlkICR7aWR9IG5vdCBmb3VuZGApO1xuICAgIH1cbiAgICBcbiAgICAvLyBVcGRhdGUgdGhlIGNvbnRhY3RcbiAgICB0aGlzLmRhdGEuY29udGFjdHNbY29udGFjdEluZGV4XSA9IHsgXG4gICAgICAuLi50aGlzLmRhdGEuY29udGFjdHNbY29udGFjdEluZGV4XSwgXG4gICAgICAuLi51cGRhdGVzIFxuICAgIH07XG4gICAgXG4gICAgdGhpcy5zYXZlRGF0YSgpO1xuICAgIHJldHVybiB0aGlzLmRhdGEuY29udGFjdHNbY29udGFjdEluZGV4XTtcbiAgfVxuXG4gIGFzeW5jIGFkZENvbnRhY3QoY29udGFjdDogT21pdDxDb250YWN0LCAnaWQnPik6IFByb21pc2U8Q29udGFjdD4ge1xuICAgIGF3YWl0IHRoaXMuc2ltdWxhdGVEZWxheSgpO1xuICAgIFxuICAgIGNvbnN0IG5ld0NvbnRhY3QgPSB7IFxuICAgICAgLi4uY29udGFjdCwgXG4gICAgICBpZDogRGF0ZS5ub3coKSwgLy8gU2ltcGxlIElEIGdlbmVyYXRpb24gZm9yIG1vY2tcbiAgICAgIGlzVHJhc2hlZDogZmFsc2VcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZGF0YS5jb250YWN0cy5wdXNoKG5ld0NvbnRhY3QpO1xuICAgIHRoaXMuc2F2ZURhdGEoKTtcbiAgICByZXR1cm4gbmV3Q29udGFjdDtcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUNvbnRhY3QoaWQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMuc2ltdWxhdGVEZWxheSgpO1xuICAgIFxuICAgIHRoaXMubG9hZERhdGEoKTsgLy8gRW5zdXJlIGRhdGEgaXMgbG9hZGVkXG4gICAgY29uc3QgaW5pdGlhbExlbmd0aCA9IHRoaXMuZGF0YS5jb250YWN0cy5sZW5ndGg7XG4gICAgdGhpcy5kYXRhLmNvbnRhY3RzID0gdGhpcy5kYXRhLmNvbnRhY3RzLmZpbHRlcigoYzogQ29udGFjdCkgPT4gYy5pZCAhPT0gaWQpO1xuICAgIFxuICAgIGlmICh0aGlzLmRhdGEuY29udGFjdHMubGVuZ3RoID09PSBpbml0aWFsTGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbnRhY3Qgd2l0aCBpZCAke2lkfSBub3QgZm91bmRgKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5zYXZlRGF0YSgpO1xuICB9XG5cbiAgYXN5bmMgYWRkU3ViamVjdChzdWJqZWN0OiBPbWl0PFN1YmplY3QsICdpZCc+KTogUHJvbWlzZTxTdWJqZWN0PiB7XG4gICAgYXdhaXQgdGhpcy5zaW11bGF0ZURlbGF5KCk7XG4gICAgXG4gICAgY29uc3QgbmV3U3ViamVjdCA9IHsgXG4gICAgICAuLi5zdWJqZWN0LCBcbiAgICAgIGlkOiBEYXRlLm5vdygpIFxuICAgIH07XG4gICAgXG4gICAgdGhpcy5kYXRhLnN1YmplY3RzLnB1c2gobmV3U3ViamVjdCk7XG4gICAgdGhpcy5zYXZlRGF0YSgpO1xuICAgIHJldHVybiBuZXdTdWJqZWN0O1xuICB9XG5cbiAgYXN5bmMgYWRkT3JnYW5pemF0aW9uKG9yZ2FuaXphdGlvbjogT21pdDxPcmdhbml6YXRpb24sICdpZCc+KTogUHJvbWlzZTxPcmdhbml6YXRpb24+IHtcbiAgICBhd2FpdCB0aGlzLnNpbXVsYXRlRGVsYXkoKTtcbiAgICBcbiAgICBjb25zdCBuZXdPcmdhbml6YXRpb24gPSB7IFxuICAgICAgLi4ub3JnYW5pemF0aW9uLCBcbiAgICAgIGlkOiBEYXRlLm5vdygpIFxuICAgIH07XG4gICAgXG4gICAgdGhpcy5kYXRhLm9yZ2FuaXphdGlvbnMucHVzaChuZXdPcmdhbml6YXRpb24pO1xuICAgIHRoaXMuc2F2ZURhdGEoKTtcbiAgICByZXR1cm4gbmV3T3JnYW5pemF0aW9uO1xuICB9XG5cbiAgYXN5bmMgYWRkT2NjdXBhdGlvbihvY2N1cGF0aW9uOiBPbWl0PE9jY3VwYXRpb24sICdpZCc+KTogUHJvbWlzZTxPY2N1cGF0aW9uPiB7XG4gICAgYXdhaXQgdGhpcy5zaW11bGF0ZURlbGF5KCk7XG4gICAgXG4gICAgY29uc3QgbmV3T2NjdXBhdGlvbiA9IHsgXG4gICAgICAuLi5vY2N1cGF0aW9uLCBcbiAgICAgIGlkOiBEYXRlLm5vdygpIFxuICAgIH07XG4gICAgXG4gICAgdGhpcy5kYXRhLm9jY3VwYXRpb25zLnB1c2gobmV3T2NjdXBhdGlvbik7XG4gICAgdGhpcy5zYXZlRGF0YSgpO1xuICAgIHJldHVybiBuZXdPY2N1cGF0aW9uO1xuICB9XG5cbiAgYXN5bmMgYWRkUmVsYXRpb25zaGlwKHJlbGF0aW9uc2hpcDogT21pdDxSZWxhdGlvbnNoaXAsICdpZCc+KTogUHJvbWlzZTxSZWxhdGlvbnNoaXA+IHtcbiAgICBhd2FpdCB0aGlzLnNpbXVsYXRlRGVsYXkoKTtcbiAgICBcbiAgICBjb25zdCBuZXdSZWxhdGlvbnNoaXAgPSB7IFxuICAgICAgLi4ucmVsYXRpb25zaGlwLCBcbiAgICAgIGlkOiBEYXRlLm5vdygpIFxuICAgIH07XG4gICAgXG4gICAgdGhpcy5kYXRhLnJlbGF0aW9uc2hpcHMucHVzaChuZXdSZWxhdGlvbnNoaXApO1xuICAgIHRoaXMuc2F2ZURhdGEoKTtcbiAgICByZXR1cm4gbmV3UmVsYXRpb25zaGlwO1xuICB9XG5cbiAgYXN5bmMgYWRkU2VudGltZW50KHNlbnRpbWVudDogT21pdDxTZW50aW1lbnQsICdpZCc+KTogUHJvbWlzZTxTZW50aW1lbnQ+IHtcbiAgICBhd2FpdCB0aGlzLnNpbXVsYXRlRGVsYXkoKTtcbiAgICBcbiAgICBjb25zdCBuZXdTZW50aW1lbnQgPSB7IFxuICAgICAgLi4uc2VudGltZW50LCBcbiAgICAgIGlkOiBEYXRlLm5vdygpIFxuICAgIH07XG4gICAgXG4gICAgdGhpcy5kYXRhLnNlbnRpbWVudHMucHVzaChuZXdTZW50aW1lbnQpO1xuICAgIHRoaXMuc2F2ZURhdGEoKTtcbiAgICByZXR1cm4gbmV3U2VudGltZW50O1xuICB9XG5cbiAgYXN5bmMgYWRkTm90ZShub3RlOiBPbWl0PE5vdGUsICdpZCcgfCAnY3JlYXRlZEF0Jz4pOiBQcm9taXNlPE5vdGU+IHtcbiAgICBhd2FpdCB0aGlzLnNpbXVsYXRlRGVsYXkoKTtcbiAgICBcbiAgICBjb25zdCBuZXdOb3RlID0geyBcbiAgICAgIC4uLm5vdGUsIFxuICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGlzVHJhc2hlZDogZmFsc2VcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZGF0YS5ub3Rlcy5wdXNoKG5ld05vdGUpO1xuICAgIHRoaXMuc2F2ZURhdGEoKTtcbiAgICByZXR1cm4gbmV3Tm90ZTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZU5vdGUoaWQ6IG51bWJlciwgdXBkYXRlczogUGFydGlhbDxOb3RlPik6IFByb21pc2U8Tm90ZT4ge1xuICAgIGF3YWl0IHRoaXMuc2ltdWxhdGVEZWxheSgpO1xuICAgIFxuICAgIGNvbnN0IG5vdGVJbmRleCA9IHRoaXMuZGF0YS5ub3Rlcy5maW5kSW5kZXgobiA9PiBuLmlkID09PSBpZCk7XG4gICAgaWYgKG5vdGVJbmRleCA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm90ZSB3aXRoIGlkICR7aWR9IG5vdCBmb3VuZGApO1xuICAgIH1cbiAgICBcbiAgICAvLyBVcGRhdGUgdGhlIG5vdGVcbiAgICB0aGlzLmRhdGEubm90ZXNbbm90ZUluZGV4XSA9IHsgXG4gICAgICAuLi50aGlzLmRhdGEubm90ZXNbbm90ZUluZGV4XSwgXG4gICAgICAuLi51cGRhdGVzIFxuICAgIH07XG4gICAgXG4gICAgdGhpcy5zYXZlRGF0YSgpO1xuICAgIHJldHVybiB0aGlzLmRhdGEubm90ZXNbbm90ZUluZGV4XTtcbiAgfVxuXG4gIGFzeW5jIGFkZENvbW1pdG1lbnQoY29tbWl0bWVudDogT21pdDxDb21taXRtZW50LCAnaWQnPik6IFByb21pc2U8Q29tbWl0bWVudD4ge1xuICAgIGF3YWl0IHRoaXMuc2ltdWxhdGVEZWxheSgpO1xuICAgIGNvbnN0IG5ld0NvbW1pdG1lbnQ6IENvbW1pdG1lbnQgPSB7IC4uLmNvbW1pdG1lbnQsIGlkOiBEYXRlLm5vdygpIH07XG4gICAgdGhpcy5kYXRhLmNvbW1pdG1lbnRzLnB1c2gobmV3Q29tbWl0bWVudCk7XG4gICAgdGhpcy5zYXZlRGF0YSgpO1xuICAgIHJldHVybiBuZXdDb21taXRtZW50O1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlQ29tbWl0bWVudChpZDogbnVtYmVyLCB1cGRhdGVzOiBQYXJ0aWFsPENvbW1pdG1lbnQ+KTogUHJvbWlzZTxDb21taXRtZW50PiB7XG4gICAgYXdhaXQgdGhpcy5zaW11bGF0ZURlbGF5KCk7XG4gICAgY29uc3QgaWR4ID0gdGhpcy5kYXRhLmNvbW1pdG1lbnRzLmZpbmRJbmRleChjID0+IGMuaWQgPT09IGlkKTtcbiAgICBpZiAoaWR4ID09PSAtMSkgdGhyb3cgbmV3IEVycm9yKGBDb21taXRtZW50IHdpdGggaWQgJHtpZH0gbm90IGZvdW5kYCk7XG4gICAgdGhpcy5kYXRhLmNvbW1pdG1lbnRzW2lkeF0gPSB7IC4uLnRoaXMuZGF0YS5jb21taXRtZW50c1tpZHhdLCAuLi51cGRhdGVzIH07XG4gICAgdGhpcy5zYXZlRGF0YSgpO1xuICAgIHJldHVybiB0aGlzLmRhdGEuY29tbWl0bWVudHNbaWR4XTtcbiAgfVxuXG4gIGFzeW5jIGdldEFsbERhdGEoKTogUHJvbWlzZTx7XG4gICAgY29udGFjdHM6IENvbnRhY3RbXTtcbiAgICBzdWJqZWN0czogU3ViamVjdFtdO1xuICAgIG9yZ2FuaXphdGlvbnM6IE9yZ2FuaXphdGlvbltdO1xuICAgIG9jY3VwYXRpb25zOiBPY2N1cGF0aW9uW107XG4gICAgcmVsYXRpb25zaGlwczogUmVsYXRpb25zaGlwW107XG4gICAgc2VudGltZW50czogU2VudGltZW50W107XG4gICAgbm90ZXM6IE5vdGVbXTtcbiAgfT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5OhIE1vY2tEYXRhU2VydmljZTogZ2V0QWxsRGF0YSBjYWxsZWQnKTtcbiAgICBjb25zb2xlLmxvZygn8J+UjSBNb2NrRGF0YVNlcnZpY2U6IEN1cnJlbnQgaW50ZXJuYWwgZGF0YSBzb3VyY2U6Jywge1xuICAgICAgaXNGcm9tTG9jYWxTdG9yYWdlOiB0aGlzLmRhdGEgIT09IGdldFNhbXBsZURhdGEoKSxcbiAgICAgIGNvbnRhY3RzQ291bnQ6IHRoaXMuZGF0YS5jb250YWN0cy5sZW5ndGgsXG4gICAgICBzYW1wbGVDb250YWN0TmFtZTogdGhpcy5kYXRhLmNvbnRhY3RzWzBdPy5uYW1lIHx8ICdub25lJ1xuICAgIH0pO1xuICAgIFxuICAgIGF3YWl0IHRoaXMuc2ltdWxhdGVEZWxheSgpO1xuICAgIFxuICAgIC8vIFJlbG9hZCBmcm9tIGxvY2FsU3RvcmFnZSB0byBnZXQgbGF0ZXN0IGRhdGFcbiAgICBjb25zb2xlLmxvZygn8J+UhCBNb2NrRGF0YVNlcnZpY2U6IFJlbG9hZGluZyBmcm9tIGxvY2FsU3RvcmFnZSBiZWZvcmUgcmV0dXJuaW5nIGRhdGEnKTtcbiAgICB0aGlzLmxvYWREYXRhKCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ/Cfk6QgTW9ja0RhdGFTZXJ2aWNlOiBSZXR1cm5pbmcgZGF0YSB0byBjYWxsZXI6Jywge1xuICAgICAgY29udGFjdHNDb3VudDogdGhpcy5kYXRhLmNvbnRhY3RzLmxlbmd0aCxcbiAgICAgIG5vdGVzQ291bnQ6IHRoaXMuZGF0YS5ub3Rlcy5sZW5ndGgsXG4gICAgICBzYW1wbGVDb250YWN0TmFtZTogdGhpcy5kYXRhLmNvbnRhY3RzWzBdPy5uYW1lIHx8ICdub25lJyxcbiAgICAgIGRhdGFTb3VyY2U6IHRoaXMuZGF0YSAhPT0gZ2V0U2FtcGxlRGF0YSgpID8gJ2xvY2FsU3RvcmFnZScgOiAnc2FtcGxlRGF0YSdcbiAgICB9KTtcbiAgICBcbiAgICAvLyBSZXR1cm4gYSBjb3B5IHRvIHByZXZlbnQgZGlyZWN0IG11dGF0aW9uc1xuICAgIHJldHVybiB7XG4gICAgICBjb250YWN0czogWy4uLnRoaXMuZGF0YS5jb250YWN0c10sXG4gICAgICBzdWJqZWN0czogWy4uLnRoaXMuZGF0YS5zdWJqZWN0c10sXG4gICAgICBvcmdhbml6YXRpb25zOiBbLi4udGhpcy5kYXRhLm9yZ2FuaXphdGlvbnNdLFxuICAgICAgb2NjdXBhdGlvbnM6IFsuLi50aGlzLmRhdGEub2NjdXBhdGlvbnNdLFxuICAgICAgcmVsYXRpb25zaGlwczogWy4uLnRoaXMuZGF0YS5yZWxhdGlvbnNoaXBzXSxcbiAgICAgIHNlbnRpbWVudHM6IFsuLi50aGlzLmRhdGEuc2VudGltZW50c10sXG4gICAgICBub3RlczogWy4uLnRoaXMuZGF0YS5ub3Rlc10sXG4gICAgICBjb21taXRtZW50czogWy4uLnRoaXMuZGF0YS5jb21taXRtZW50c11cbiAgICB9O1xuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBkYXRhU2VydmljZSA9IG5ldyBNb2NrRGF0YVNlcnZpY2UoKTtcbiJdLCJuYW1lcyI6WyJnZXRTYW1wbGVEYXRhIiwiZ2V0TG9jYWxTdG9yYWdlIiwia2V5Iiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldExvY2FsU3RvcmFnZSIsInZhbHVlIiwic2V0SXRlbSIsInJlbW92ZUxvY2FsU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJNb2NrRGF0YVNlcnZpY2UiLCJsb2FkRGF0YSIsInNhdmVkRGF0YSIsInBhcnNlZCIsIkpTT04iLCJwYXJzZSIsImlzVmFsaWREYXRhIiwiZGF0YSIsImNvbnNvbGUiLCJ3YXJuIiwiZXJyb3IiLCJzdWJqZWN0cyIsIkFycmF5IiwiaXNBcnJheSIsInJlbGF0aW9uc2hpcHMiLCJjb250YWN0cyIsIm9yZ2FuaXphdGlvbnMiLCJvY2N1cGF0aW9ucyIsInNlbnRpbWVudHMiLCJub3RlcyIsInNhdmVEYXRhIiwic3RyaW5naWZ5Iiwic2ltdWxhdGVEZWxheSIsImRlbGF5IiwiTWF0aCIsInJhbmRvbSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInVwZGF0ZUNvbnRhY3QiLCJpZCIsInVwZGF0ZXMiLCJjb250YWN0SW5kZXgiLCJmaW5kSW5kZXgiLCJjIiwiRXJyb3IiLCJhZGRDb250YWN0IiwiY29udGFjdCIsIm5ld0NvbnRhY3QiLCJEYXRlIiwibm93IiwiaXNUcmFzaGVkIiwicHVzaCIsImRlbGV0ZUNvbnRhY3QiLCJpbml0aWFsTGVuZ3RoIiwibGVuZ3RoIiwiZmlsdGVyIiwiYWRkU3ViamVjdCIsInN1YmplY3QiLCJuZXdTdWJqZWN0IiwiYWRkT3JnYW5pemF0aW9uIiwib3JnYW5pemF0aW9uIiwibmV3T3JnYW5pemF0aW9uIiwiYWRkT2NjdXBhdGlvbiIsIm9jY3VwYXRpb24iLCJuZXdPY2N1cGF0aW9uIiwiYWRkUmVsYXRpb25zaGlwIiwicmVsYXRpb25zaGlwIiwibmV3UmVsYXRpb25zaGlwIiwiYWRkU2VudGltZW50Iiwic2VudGltZW50IiwibmV3U2VudGltZW50IiwiYWRkTm90ZSIsIm5vdGUiLCJuZXdOb3RlIiwiY3JlYXRlZEF0IiwidG9JU09TdHJpbmciLCJ1cGRhdGVOb3RlIiwibm90ZUluZGV4IiwibiIsImFkZENvbW1pdG1lbnQiLCJjb21taXRtZW50IiwibmV3Q29tbWl0bWVudCIsImNvbW1pdG1lbnRzIiwidXBkYXRlQ29tbWl0bWVudCIsImlkeCIsImdldEFsbERhdGEiLCJsb2ciLCJpc0Zyb21Mb2NhbFN0b3JhZ2UiLCJjb250YWN0c0NvdW50Iiwic2FtcGxlQ29udGFjdE5hbWUiLCJuYW1lIiwibm90ZXNDb3VudCIsImRhdGFTb3VyY2UiLCJjb25zdHJ1Y3RvciIsImRhdGFTZXJ2aWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./data/dataService.ts\n"));

/***/ })

});